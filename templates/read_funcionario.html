{% extends "base.html" %}

{% block title %} Dados dos Funcionários{% endblock %}

{% block content %}
    <h1 class="text-center">SESUP - Serviço de Supercomputação - Dados dos Funcionários</h1>

    <table class="table table-striped table-hover text-center mt-4" aria-labelledby="tabela-funcionarios">
        <thead>
            <tr>
                <th scope="col">Foto funcionário</th>
                <th scope="col">Nome</th>
                <th scope="col">Tipo de Contrato</th>
                <th scope="col">Admissão</th>
                <th scope="col">Email</th>
                <th scope="col">Cidade</th>
                <th scope="col">Função</th>
                <th scope="col">Data de Nascimento</th>
                <th scope="col">Mês de férias</th>
                <th scope="col">Ramal</th>                 
                <th scope="col">Atualizar</th>
                <th scope="col">Excluir</th>
            </tr>
        </thead>

        <tbody>

            {% for funcionario in funcionarios %}
                <tr>
                    <td>
                        {% if funcionario[10] %}
                            <img src="{{ url_for('uploaded_file', filename=funcionario[10]) }}" alt="Foto" width="60px" height="60px">
                        {% else %}
                            Sem foto
                        {% endif %}
                    </td>
                    <td><a href="{{ url_for('view_funcionario', id=funcionario[0]) }}">{{ funcionario[1] }}</a></td>
                    <td>{{ funcionario[2] }}</td>
                    <td>{{ funcionario[3] }}</td>
                    <td>{{ funcionario[4] }}</td>
                    <td>{{ funcionario[5] }}</td>
                    <td>{{ funcionario[6] }}</td>
                    <td>{{ funcionario[7] }}</td>
                    <td>{{ funcionario[8] }}</td>
                    <td>{{ funcionario[9] }}</td>
                    
                    <td>
                        <a class="btn btn-outline-warning" href="{{ url_for('edit_funcionario', id=funcionario[0]) }}"> Editar </a> 
                    </td>
                    <td>
                        <form action="{{ url_for('delete_funcionario', id=funcionario[0]) }}" method="post" style="display: inline;">
                            <button class="btn btn-outline-danger" type="submit">Deletar</button>
                        </form>
                    </td>
                </tr> 
            {% endfor %}                                                      
        </tbody>   
    </table>   

    <div class="mt-4">
        <a class="btn btn-primary" href="{{ url_for('create_funcionario') }}">Adicionar novo funcionário</a>
    </div>
        
{% endblock %}